ComposableModel subclass: #OOP_View_Foodstuff	instanceVariableNames: 'addFoodstuffButton foodstuffs sortableList foodstuffForm'	classVariableNames: ''	poolDictionaries: ''	category: '_FIT-OOP-Spiz-View'!!OOP_View_Foodstuff methodsFor: 'protocol' stamp: 'JanKorbel 12/31/2017 21:17'!title	^ foodstuffs localization programTitle .! !!OOP_View_Foodstuff methodsFor: 'initialization' stamp: 'JanKorbel 1/4/2018 00:38'!initializePresenter| cc text |	cc := OOP_DarkThemeColorCatalog new.	addFoodstuffButton action: [		text := foodstuffForm foodstuffNameInputField .		(text size > 0) ifTrue: [ 			foodstuffForm choiceValue ifTrue: [ foodstuffs addFoodstuffBestBefore: text ]				ifFalse: [ foodstuffs addFoodstuffUseBy: text ].		sortableList initializePresenter .		].	].! !!OOP_View_Foodstuff methodsFor: 'initialization' stamp: 'JanKorbel 1/4/2018 00:32'!initializeWidgets	| consumtion |	foodstuffs := OOP_Model_Foodstore singleton .	addFoodstuffButton := self newButton.	consumtion := RadioButtonGroup new.	addFoodstuffButton label: foodstuffs localization addFoodstuffLabel .	sortableList := self instantiate: OOP_View_FoodstuffSortableList .	foodstuffForm := self instantiate: OOP_View_FoodstuffForm .	self focusOrder add: addFoodstuffButton .! !!OOP_View_Foodstuff methodsFor: 'accessing' stamp: 'JanKorbel 1/1/2018 23:51'!sortableList	^ sortableList .! !!OOP_View_Foodstuff methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 22:23'!foodstuffForm	^ foodstuffForm .! !!OOP_View_Foodstuff methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 22:01'!extend	^ 640 @ 480.! !!OOP_View_Foodstuff methodsFor: 'accessing' stamp: 'JanKorbel 12/30/2017 22:24'!addFoodstuffButton	^ addFoodstuffButton! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!OOP_View_Foodstuff class	instanceVariableNames: ''!!OOP_View_Foodstuff class methodsFor: 'specs' stamp: 'JanKorbel 1/4/2018 00:46'!defaultSpec	^ SpecLayout composed		newColumn: [ :col |			col newRow: [ :row | 				row add: #foodstuffForm ]			height: (self toolbarHeight) * 3 ;			newRow: [ :row |				row add: #addFoodstuffButton ]			height: self toolbarHeight;			newRow: [ :row | row add: #sortableList ] ]"		width: 300; "		;		yourself! !ComposableModel subclass: #OOP_View_FoodstuffForm	instanceVariableNames: 'labeledTextInput labeledChoice addFoodstuffButton'	classVariableNames: ''	poolDictionaries: ''	category: '_FIT-OOP-Spiz-View'!!OOP_View_FoodstuffForm methodsFor: 'api' stamp: 'JanKorbel 1/3/2018 22:29'!title	^ ' '! !!OOP_View_FoodstuffForm methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:32'!labeledTextInput	^ labeledTextInput .! !!OOP_View_FoodstuffForm methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:42'!foodstuffNameInputField	^ labeledTextInput value .! !!OOP_View_FoodstuffForm methodsFor: 'accessing' stamp: 'JanKorbel 1/4/2018 00:01'!labeledChoice	^ labeledChoice .! !!OOP_View_FoodstuffForm methodsFor: 'api-events' stamp: 'JanKorbel 1/3/2018 22:41'!whenSelectedItemChanged: aBlock	self foodstuffNameInputField whenSelectedItemChanged: aBlock .! !!OOP_View_FoodstuffForm methodsFor: 'as yet unclassified' stamp: 'JanKorbel 1/4/2018 00:28'!choiceValue	^ labeledChoice value.! !!OOP_View_FoodstuffForm methodsFor: 'initialization' stamp: 'JanKorbel 1/3/2018 22:21'!initializePresenter! !!OOP_View_FoodstuffForm methodsFor: 'initialization' stamp: 'JanKorbel 1/7/2018 00:12'!initializeWidgets	| consumption foodstuffs |	foodstuffs := OOP_Model_Foodstore singleton .	labeledTextInput := self instantiate: OOP_View_LabeledTextInput .	labeledChoice := self instantiate: OOP_View_LabeledChoice .	addFoodstuffButton := self newButton .	consumption := RadioButtonGroup new.	labeledTextInput label: foodstuffs localization foodstuffNameLabel .	labeledChoice label: foodstuffs localization consumptionLabel;		trueLabel: foodstuffs localization bestBeforeLabel;		falseLabel: foodstuffs localization useByDateLabel .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!OOP_View_FoodstuffForm class	instanceVariableNames: ''!!OOP_View_FoodstuffForm class methodsFor: 'specs' stamp: 'JanKorbel 1/4/2018 00:46'!defaultSpec	^ SpecLayout composed		newColumn: [ :col |			col newRow: [ :row | row add: #labeledTextInput ] height: self toolbarHeight  ; 			newRow: [ :row | row add: #labeledChoice ] height: (self toolbarHeight)*2 			];		yourself .! !ComposableModel subclass: #OOP_View_FoodstuffSortableList	instanceVariableNames: 'orderButton foodstuffList'	classVariableNames: ''	poolDictionaries: ''	category: '_FIT-OOP-Spiz-View'!!OOP_View_FoodstuffSortableList methodsFor: 'initialization' stamp: 'JanKorbel 1/1/2018 23:47'!initializePresenter	| cc foodstuffs |	foodstuffs := OOP_Model_Foodstore singleton .	cc := OOP_DarkThemeColorCatalog new.		orderButton action: [		foodstuffs nextOrderStrategy.		orderButton label: foodstuffs orderStrategy name.		foodstuffList items: foodstuffs foodstuffs asArray;			backgroundColorBlock: [ :item | item backgroundColor: cc ] .		foodstuffList refreshListItems .	].	foodstuffList items: foodstuffs foodstuffs asArray;		backgroundColorBlock: [ :item | item backgroundColor: cc ] .		foodstuffList refreshListItems .! !!OOP_View_FoodstuffSortableList methodsFor: 'initialization' stamp: 'JanKorbel 1/1/2018 23:33'!initializeWidgets	| model |	model := (OOP_Model_Foodstore singleton) .	foodstuffList := ListModel new.	orderButton := self newButton .	orderButton label: model orderStrategy name.! !!OOP_View_FoodstuffSortableList methodsFor: 'accessing' stamp: 'JanKorbel 1/1/2018 23:34'!orderButton	^ orderButton  .! !!OOP_View_FoodstuffSortableList methodsFor: 'accessing' stamp: 'JanKorbel 1/1/2018 23:21'!foodstuffList	^ foodstuffList .! !!OOP_View_FoodstuffSortableList methodsFor: 'api-events' stamp: 'JanKorbel 1/1/2018 23:56'!whenSelectedItemChanged: aBlock	foodstuffList whenSelectedItemChanged: aBlock.! !!OOP_View_FoodstuffSortableList methodsFor: 'api' stamp: 'JanKorbel 1/1/2018 23:19'!title	^ 'Sortable list'! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!OOP_View_FoodstuffSortableList class	instanceVariableNames: ''!!OOP_View_FoodstuffSortableList class methodsFor: 'specs' stamp: 'JanKorbel 1/1/2018 23:29'!defaultSpec	^ SpecLayout composed 		newColumn: [ :col | 			col newRow: [ :row |				row add: #orderButton ]				height: self toolbarHeight;			newRow: [ :row |				row add: #foodstuffList ]		];		yourself .! !ComposableModel subclass: #OOP_View_LabeledChoice	instanceVariableNames: 'label trueRadio falseRadio radioButtonState'	classVariableNames: ''	poolDictionaries: ''	category: '_FIT-OOP-Spiz-View'!!OOP_View_LabeledChoice methodsFor: 'as yet unclassified' stamp: 'JanKorbel 1/3/2018 23:58'!falseLabel: aText	falseRadio label: aText .! !!OOP_View_LabeledChoice methodsFor: 'as yet unclassified' stamp: 'JanKorbel 1/3/2018 23:58'!trueLabel: aText	^ trueRadio label: aText.! !!OOP_View_LabeledChoice methodsFor: 'initialization' stamp: 'JanKorbel 1/4/2018 00:26'!initializePresenter	trueRadio activationAction: [ 		radioButtonState := true.		].	falseRadio activationAction: [ 		radioButtonState := false.		].! !!OOP_View_LabeledChoice methodsFor: 'initialization' stamp: 'JanKorbel 1/4/2018 00:22'!initializeWidgets	| radioButtonsGroup |	label := self newLabel .	radioButtonsGroup := RadioButtonGroup new.	trueRadio := self newRadioButton .	falseRadio := self newRadioButton .	radioButtonsGroup addRadioButton: trueRadio ;		addRadioButton: falseRadio;		default: trueRadio .! !!OOP_View_LabeledChoice methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:50'!trueRadioButton	^ trueRadio .! !!OOP_View_LabeledChoice methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:57'!label: aText	label label: aText.! !!OOP_View_LabeledChoice methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:51'!falseRadioButton	^ falseRadio .! !!OOP_View_LabeledChoice methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:50'!label	^ label .! !!OOP_View_LabeledChoice methodsFor: 'evaluating' stamp: 'JanKorbel 1/4/2018 00:24'!value	^ radioButtonState .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!OOP_View_LabeledChoice class	instanceVariableNames: ''!!OOP_View_LabeledChoice class methodsFor: 'specs' stamp: 'JanKorbel 1/4/2018 00:57'!defaultSpec	^ SpecRowLayout composed		newColumn: [ :col |			col add: #label ]			 ;		newColumn: [ :col |			col newRow: [ :row |				row  add: #falseRadioButton ];			newRow: [ :row |				row  add: #trueRadioButton ]			];		yourself! !ComposableModel subclass: #OOP_View_LabeledTextInput	instanceVariableNames: 'label textInput'	classVariableNames: ''	poolDictionaries: ''	category: '_FIT-OOP-Spiz-View'!!OOP_View_LabeledTextInput methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:27'!label: aText	label label: aText.! !!OOP_View_LabeledTextInput methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:26'!textInput	^ textInput .! !!OOP_View_LabeledTextInput methodsFor: 'accessing' stamp: 'JanKorbel 1/3/2018 23:26'!label	^ label .! !!OOP_View_LabeledTextInput methodsFor: 'evaluating' stamp: 'JanKorbel 1/3/2018 23:42'!value	^ textInput text asString .! !!OOP_View_LabeledTextInput methodsFor: 'initialization' stamp: 'JanKorbel 1/3/2018 23:30'!initializeWidgets	label := self newLabel .	textInput := self newTextInput .	textInput autoAccept: true.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!OOP_View_LabeledTextInput class	instanceVariableNames: ''!!OOP_View_LabeledTextInput class methodsFor: 'specs' stamp: 'JanKorbel 1/3/2018 23:26'!defaultSpec	^ SpecLayout composed		newColumn: [ :col |			col newRow:  [ :row |				row add: #label; add: #textInput ] height: self toolbarHeight			];		yourself! !